

# String Parameters
@K param 0.6
@Z param 0.01

# The strings
@ch1 chain 120 1. K Z 0.
@ch2 chain 240 1. K Z 0.
@ch3 chain 80 1. K Z 0.
@ch4 chain 160 1. K Z 0.

# Two meshes for the edges
@m1 cornerMesh 10 10 1. 0.1 0.001 0.
@m2 cornerMesh 10 10 1. 0.1 0.001 0.

@K3 param 10

# Connections between springs and end
@sp1 nlSpring3 @ch1 @m1 0.2 K3 0.01 0. 0.2:0.2
@sp2 nlSpring3 @ch2 @m1 0.2 K3 0.01 0. 0.8:0.2
@sp3 nlSpring3 @ch3 @m1 0.2 K3 0.01 0. 0.8:0.8
@sp4 nlSpring3 @ch4 @m1 0.2 K3 0.01 0. 0.2:0.8

@sp5 nlSpring3 @ch1 @m2 0.2 K3 0.01 1. 0.2:0.2
@sp6 nlSpring3 @ch2 @m2 0.2 K3 0.01 1. 0.8:0.2
@sp7 nlSpring3 @ch3 @m2 0.2 K3 0.01 1. 0.8:0.8
@sp8 nlSpring3 @ch4 @m2 0.2 K3 0.01 1. 0.2:0.8

# Bowing positions on the strings
@e1 param 0.2
@e2 param 0.2
@e3 param 0.2
@e4 param 0.2

@in1 posInput 0.
@in2 posInput 0.
@in3 posInput 0.
@in4 posInput 0.

@nlZ param 0.01
@nlscale param 0.00005

@bow1 nlBow @in1 @ch1 nlZ nlscale e1
@bow2 nlBow @in2 @ch2 nlZ nlscale e2
@bow3 nlBow @in3 @ch3 nlZ nlscale e3
@bow4 nlBow @in4 @ch4 nlZ nlscale e4

@out1 posOutput @ch1 0.08
@out2 posOutput @ch2 0.08
@out3 posOutput @ch3 0.08
@out4 posOutput @ch4 0.08

